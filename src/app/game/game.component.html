<div *ngIf="game$ | async as state" id="game">
  
  <div [style.--col-grid]="(solution$ | async)?.length" class="grid-container">
    <div #boardRow class="attempt" *ngFor="let el of state[0]; let rowIndex = index">
      <!-- <div [ngClass]="{'has-letter': currentBoard[rowIndex] }" -->
      <div class="letter-container {{state[0][rowIndex][colIndex]}} delay-{{colIndex + 1}}"
        *ngFor="let el2 of el; let colIndex = index">
        <div class="letter">{{state[1] | letter : rowIndex : colIndex | async}}</div>
      </div>
    </div>
  </div>

  <div class="keyboard">
    <div class="keyboard-line">
      <button appKeyboard="a" type="button" value="a" class="key">A</button>
      <button appKeyboard="z" type="button" value="z" class="key">Z</button>
      <button appKeyboard="e" type="button" value="e" class="key">E</button>
      <button appKeyboard="r" type="button" value="r" class="key">R</button>
      <button appKeyboard="t" type="button" value="t" class="key">T</button>
      <button appKeyboard="y" type="button" value="y" class="key">Y</button>
      <button appKeyboard="u" type="button" value="u" class="key">U</button>
      <button appKeyboard="i" type="button" value="i" class="key">I</button>
      <button appKeyboard="o" type="button" value="o" class="key">O</button>
      <button appKeyboard="p" type="button" value="p" class="key">P</button>
    </div>
    <div class="keyboard-line">
      <button appKeyboard="q" type="button" value="q" class="key">Q</button>
      <button appKeyboard="s" type="button" value="s" class="key">S</button>
      <button appKeyboard="d" type="button" value="d" class="key">D</button>
      <button appKeyboard="f" type="button" value="f" class="key">F</button>
      <button appKeyboard="g" type="button" value="g" class="key">G</button>
      <button appKeyboard="h" type="button" value="h" class="key">H</button>
      <button appKeyboard="j" type="button" value="j" class="key">J</button>
      <button appKeyboard="k" type="button" value="k" class="key">K</button>
      <button appKeyboard="l" type="button" value="l" class="key">L</button>
      <button appKeyboard="m" type="button" value="m" class="key">M</button>
    </div>

    <div class="keyboard-line">
      <button [style.--col-key]="1" appKeyboard="enter" type="button" value="enter" class="key big">
        <mat-icon>keyboard_return</mat-icon>
      </button>
      <button appKeyboard="w" type="button" value="w" class="key">W</button>
      <button appKeyboard="x" type="button" value="x" class="key">X</button>
      <button appKeyboard="c" type="button" value="c" class="key">C</button>
      <button appKeyboard="v" type="button" value="v" class="key">V</button>
      <button appKeyboard="b" type="button" value="b" class="key">B</button>
      <button appKeyboard="n" type="button" value="n" class="key">N</button>
      <button [style.--col-key]="9" appKeyboard="delete" type="button" value="delete" class="key big">
        <mat-icon (click)="$event.stopPropagation">delete</mat-icon>
      </button>
    </div>
  </div>
</div>